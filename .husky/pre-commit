#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "Executando testes ğŸ§ª"
npm run coverage
status=$?

if [ "$status" = 0 ] ; then
    echo -e "\e[32mTodos os testes passaram ğŸ˜\e[0m"
else
    echo -e "\e[31mErro, alguns testes falharam ğŸ˜¢\e[0m"
    #Exit
    exit 1
fi

echo "Executando eslint ğŸ”"
npx lint-staged
status=$?

if [ "$status" = 0 ] ; then
    echo -e "\e[32mNenhum problema encontrado ğŸ¤“\e[0m"
else
    echo -e "\e[31mEslint encontrou problemas que nÃ£o conseguiu resolver ğŸ˜«\e[0m"
    exit 1
fi

exit 0