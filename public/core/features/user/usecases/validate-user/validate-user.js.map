{"version":3,"file":"validate-user.js","sources":["core/features/user/usecases/validate-user/validate-user.ts"],"sourceRoot":"/","sourcesContent":["import { z, ZodError, ZodIssue } from 'zod';\r\nimport { Left, Right } from '../../../../utils/types';\r\nimport { UserProps } from '../../models/user-model';\r\nimport { IValidateUserUsecase, ValidateUserError } from './types';\r\nimport Injectable from '../../../../utils/decorators/injectable';\r\n\r\n@Injectable('IValidateUserUsecase')\r\nexport default class ValidateUserUsecase implements IValidateUserUsecase {\r\n  execute(user: UserProps) {\r\n    try {\r\n      const userSchema = z.object({\r\n        name: z.string().min(3).max(250),\r\n        email: z.string().email(),\r\n        password: z.string().min(6).max(20)\r\n      });\r\n      userSchema.parse(user);\r\n      return new Right(null);\r\n    } catch (e) {\r\n      let message = ((e as ZodError).errors).reduce(\r\n        (prev: string, current: ZodIssue, index: any) => `${prev}${!index ? ' ' : ', '}${(current).path.join(', ')}`,\r\n        'Desculpe, você precisa informar um'\r\n      );\r\n      message += ' válido';\r\n      return new Left(new ValidateUserError(message + '.', e));\r\n    }\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,6BAA4C;AAC5C,mDAAsD;AAEtD,mCAAkE;AAClE,yFAAiE;AAGlD,IAAM,mBAAmB,GAAzB,MAAM,mBAAmB;IACtC,OAAO,CAAC,IAAe;QACrB,IAAI,CAAC;YACH,MAAM,UAAU,GAAG,OAAC,CAAC,MAAM,CAAC;gBAC1B,IAAI,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;gBAChC,KAAK,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE;gBACzB,QAAQ,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC;aACpC,CAAC,CAAC;YACH,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACvB,OAAO,IAAI,aAAK,CAAC,IAAI,CAAC,CAAC;QACzB,CAAC;QAAC,OAAO,CAAC,EAAE,CAAC;YACX,IAAI,OAAO,GAAG,CAAE,CAAc,CAAC,MAAM,CAAC,CAAC,MAAM,CAC3C,CAAC,IAAY,EAAE,OAAiB,EAAE,KAAU,EAAE,EAAE,CAAC,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAC5G,oCAAoC,CACrC,CAAC;YACF,OAAO,IAAI,SAAS,CAAC;YACrB,OAAO,IAAI,YAAI,CAAC,IAAI,yBAAiB,CAAC,OAAO,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QAC3D,CAAC;IACH,CAAC;CACF,CAAA;AAnBoB,mBAAmB;IADvC,IAAA,oBAAU,EAAC,sBAAsB,CAAC;GACd,mBAAmB,CAmBvC;kBAnBoB,mBAAmB","debug_id":"453eed53-9380-5143-8ca8-546f3315b301"}