{"version":3,"file":"server.js","sources":["fastify/server.ts"],"sourceRoot":"/","sourcesContent":["import 'reflect-metadata';\nimport './config';\nimport '../core/utils/services/index';\nimport * as Sentry from '@sentry/node';\nimport { nodeProfilingIntegration } from '@sentry/profiling-node';\nimport { env } from 'process';\nimport createApp from './app';\nimport createContainer from '../core/utils/decorators/container';\nimport { ILoggerService } from '../core/utils/services/logger-service/types';\nimport { SENTRY_DSN } from '../core/utils/constants';\n\nSentry.init({\n  dsn: SENTRY_DSN,\n  integrations: [\n    nodeProfilingIntegration()\n  ],\n  // Performance Monitoring\n  tracesSampleRate: 1.0, //  Capture 100% of the transactions\n  // Set sampling rate for profiling - this is relative to tracesSampleRate\n  profilesSampleRate: 1.0\n});\n\nexport default async function startServer() {\n  const container = createContainer();\n  const logger = container.get<ILoggerService>('ILoggerService');\n  const port = env.PORT ?? 8080;\n\n  const app = await createApp();\n  await app.listen({ port: +port, host: '0.0.0.0' })\n    .catch((e) => logger.error('Error starting server', e));\n\n  logger.info(`Server started at port ${port}`);\n  return app;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,4BAA0B;AAC1B,oBAAkB;AAClB,wCAAsC;AACtC,qDAAuC;AACvC,2DAAkE;AAClE,qCAA8B;AAC9B,gDAA8B;AAC9B,mFAAiE;AAEjE,uDAAqD;AAErD,MAAM,CAAC,IAAI,CAAC;IACV,GAAG,EAAE,sBAAU;IACf,YAAY,EAAE;QACZ,IAAA,yCAAwB,GAAE;KAC3B;IACD,yBAAyB;IACzB,gBAAgB,EAAE,GAAG,EAAE,oCAAoC;IAC3D,yEAAyE;IACzE,kBAAkB,EAAE,GAAG;CACxB,CAAC,CAAC;AAEY,KAAK,UAAU,WAAW;IACvC,MAAM,SAAS,GAAG,IAAA,mBAAe,GAAE,CAAC;IACpC,MAAM,MAAM,GAAG,SAAS,CAAC,GAAG,CAAiB,gBAAgB,CAAC,CAAC;IAC/D,MAAM,IAAI,GAAG,aAAG,CAAC,IAAI,IAAI,IAAI,CAAC;IAE9B,MAAM,GAAG,GAAG,MAAM,IAAA,aAAS,GAAE,CAAC;IAC9B,MAAM,GAAG,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;SAC/C,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,uBAAuB,EAAE,CAAC,CAAC,CAAC,CAAC;IAE1D,MAAM,CAAC,IAAI,CAAC,0BAA0B,IAAI,EAAE,CAAC,CAAC;IAC9C,OAAO,GAAG,CAAC;AACb,CAAC;AAXD,8BAWC","debug_id":"eb7d6208-f779-5be3-ace6-902b4a25a2fe"}